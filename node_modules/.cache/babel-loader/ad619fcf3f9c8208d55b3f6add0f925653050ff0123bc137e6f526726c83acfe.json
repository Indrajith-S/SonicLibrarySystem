{"ast":null,"code":"import _defineProperty from\"/home/aryanx23/Public/sonicLibrarySystem/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/aryanx23/Public/sonicLibrarySystem/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/aryanx23/Public/sonicLibrarySystem/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import'./signIn.css';import{useNavigate}from\"react-router-dom\";import axios from'axios';import{motion}from'framer-motion';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignIn(){var navigate=useNavigate();React.useEffect(function(){var isAuth=JSON.parse(localStorage.getItem('isLoggedIn')).isLoggedIn;if(isAuth&&isAuth!==null){navigate(\"/sonicLibrarySystem/dashboard\");}},[navigate]);var _React$useState=React.useState({email:\"\",password:\"\"}),_React$useState2=_slicedToArray(_React$useState,2),creds=_React$useState2[0],setCreds=_React$useState2[1];function handleChange(event){setCreds(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},event.target.name,event.target.value));});}function handleLogin(){axios({method:'post',url:\"http://localhost:4000/signin\",headers:{'Content-Type':'application/json'},withCredentials:true,data:{email:creds.email,password:creds.password}}).then(function(response){localStorage.setItem(\"isLoggedIn\",JSON.stringify(response.data));navigate(\"/sonicLibrarySystem/dashboard\");});}function handleClick(){navigate(\"/sonicLibrarySystem/\");}function handleForgot(){//Adding functionality later :)\n}return/*#__PURE__*/_jsxs(\"div\",{className:\"signInBody\",children:[/*#__PURE__*/_jsxs(motion.div,{className:\"signHeader\",initial:{y:'-20vh',opacity:0},animate:{y:'0vh',opacity:1},transition:{type:'spring',duration:3,bounce:0.3},children:[/*#__PURE__*/_jsx(\"span\",{className:\"headerText\",children:\"Sonic Library System\"}),/*#__PURE__*/_jsx(\"img\",{className:\"homeIcon\",src:process.env.PUBLIC_URL+\"/images/homeIcon.png\",onClick:handleClick,alt:\"icon\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signContent\",children:[/*#__PURE__*/_jsx(motion.div,{className:\"leftField\",initial:{x:'-100vw',opacity:0},animate:{x:0,opacity:1},transition:{type:'spring',duration:2,bounce:0},children:/*#__PURE__*/_jsxs(\"span\",{children:[\"WELCOME BACK USER,\",/*#__PURE__*/_jsx(\"br\",{}),\"LOGIN\"]})}),/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/images/midLine.png\",alt:\"midLine\"}),/*#__PURE__*/_jsxs(motion.div,{className:\"rightField\",initial:{x:'+100vw',opacity:0},animate:{x:0,opacity:1},transition:{type:'spring',duration:2,bounce:0},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleChange,placeholder:\"Email/Username\",name:\"email\",className:\"boxEmail\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:handleChange,placeholder:\"Password\",name:\"password\",className:\"boxPass\"}),/*#__PURE__*/_jsx(\"span\",{className:\"forgotText\",onClick:handleForgot,children:\"Forgot Password?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"signInButton\",onClick:handleLogin,children:\"Login\"})]})]})]});}","map":{"version":3,"names":["React","useNavigate","axios","motion","SignIn","navigate","useEffect","isAuth","JSON","parse","localStorage","getItem","isLoggedIn","useState","email","password","creds","setCreds","handleChange","event","prev","target","name","value","handleLogin","method","url","headers","withCredentials","data","then","response","setItem","stringify","handleClick","handleForgot","y","opacity","type","duration","bounce","process","env","PUBLIC_URL","x"],"sources":["/home/aryanx23/Public/sonicLibrarySystem/frontend/src/SignIn/signIn.js"],"sourcesContent":["import React from \"react\";\nimport './signIn.css';\nimport { useNavigate } from \"react-router-dom\";\nimport axios from 'axios';\nimport { motion } from 'framer-motion';\n\nexport default function SignIn(){\n    const navigate=useNavigate();\n    React.useEffect(() => {\n        let isAuth = JSON.parse(localStorage.getItem('isLoggedIn')).isLoggedIn;\n        if(isAuth && isAuth !== null) {\n            navigate(\"/sonicLibrarySystem/dashboard\");\n        }\n    }, [navigate]);\n    const [creds,setCreds]=React.useState({email:\"\",password:\"\"});\n    function handleChange(event){\n        setCreds(prev=>({\n            ...prev,\n            [event.target.name]:event.target.value\n        }));\n    }\n    function handleLogin(){\n        axios({\n            method: 'post',\n            url:\"http://localhost:4000/signin\",\n            headers: {'Content-Type': 'application/json'}, \n            withCredentials:true,\n            data: {\n                email:creds.email,\n                password:creds.password\n            }\n        }).then(response=>{\n            localStorage.setItem(\"isLoggedIn\",JSON.stringify(response.data));\n            navigate(\"/sonicLibrarySystem/dashboard\");\n        });\n    }\n    function handleClick(){\n        navigate(\"/sonicLibrarySystem/\");\n    }\n    function handleForgot(){\n        //Adding functionality later :)\n    }\n    return(\n        <div className=\"signInBody\">\n            <motion.div className=\"signHeader\" initial={{ y: '-20vh',opacity:0}} animate={{y:'0vh',opacity:1}} transition={{type:'spring', duration: 3, bounce:0.3}} >\n                <span className=\"headerText\">Sonic Library System</span>\n                <img className=\"homeIcon\" src={process.env.PUBLIC_URL+\"/images/homeIcon.png\"} onClick={handleClick} alt=\"icon\"/>\n            </motion.div>\n            <div className=\"signContent\" >\n                <motion.div className=\"leftField\" initial={{ x: '-100vw',opacity:0}} animate={{x:0,opacity:1}} transition={{type:'spring', duration: 2, bounce:0}} >\n                    <span>WELCOME BACK USER,<br/>LOGIN</span>\n                </motion.div>\n                <img src={process.env.PUBLIC_URL+\"/images/midLine.png\"} alt=\"midLine\"/>\n                <motion.div className=\"rightField\" initial={{ x: '+100vw',opacity:0}} animate={{x:0,opacity:1}} transition={{type:'spring', duration: 2, bounce:0}} >\n                    <input type=\"text\" onChange={handleChange} placeholder=\"Email/Username\" name=\"email\" className=\"boxEmail\" />\n                    <input type=\"password\" onChange={handleChange} placeholder=\"Password\" name=\"password\" className=\"boxPass\" />\n                    <span className=\"forgotText\" onClick={handleForgot} >Forgot Password?</span>\n                    <button className=\"signInButton\" onClick={handleLogin}>Login</button>\n                </motion.div>\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}